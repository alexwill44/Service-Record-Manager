{% extends 'base.html' %}

{% block title %} {{motorcycle.model}} {% endblock %}

{% block content %}

<div id="profile_box">
        <img class="profile_pic user_img" src="{{motorcycle.img}}" alt="User Image">
        <div class="col-1"></div>
        <span>   </span>
        <b> <p>{{motorcycle.make}} {{motorcycle.model}} {{motorcycle.dom}}</p> </b>
    </div>

    {% for record in motorcycle.records.all %}

        <a href="" class="nav-link" data-toggle="modal" data-target="#record-modal">Service at: {{record.mileage}}</a>

<!-- Service record modal-->
    <div class="modal fade" id="record-modal" tabindex="-1" role="dialog"  >
        <div class="modal-dialog" >
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"> Service on {{record.motorcycle}} at {{record.mileage}}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span>&times;</span>
                </button>
            </div>
            <div class="modal-body">
            
                <h4>{{record.description}}</h4>

                <ul>Parts Used: </ul>
                <li>{{record.part.part_number}}</li>

                    {% for part in record.part.all %}

                    <li> {{part.description}} </li>

                    {% empty %}

                    <li>No Parts Used</li>

                    {% endfor %}
            
            </div>
            </div>
        </div>
    </div>

    {% empty %}

        <h4>No Service Assciated with this {{motorcycle.make}} {{motorcycle.model}} VIN: {{motorcycle.vin}}</h4>

        
    {% endfor %}


{% endblock %}